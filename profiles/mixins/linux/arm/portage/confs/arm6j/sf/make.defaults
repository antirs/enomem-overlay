# These settings were set by the catalyst build script that automatically
# built this stage.
# Please consult /usr/share/portage/config/make.conf.example for a more
# detailed example.
#
# WARNING: Changing your CHOST is not something that should be done lightly.
# Please consult http://www.gentoo.org/doc/en/change-chost.xml before changing.
ACCEPT_KEYWORDS="~arm"

ACCEPT_LICENSE="-* @FREE"

USE_EXPAND="ENOMEM_FEATURES"
USE_EXPAND_HIDDEN="-ENOMEM_FEATURES"
USE_EXPAND_IMPLICIT="ENOMEM_FEATURES"
USE_EXPAND_VALUES_ENOMEM_FEATURES="arm arm_arm6j arm_vfp docker fpu_abi_hf fpu_abi_sf hardened hardened_fortify2 hardened_fortify3 haswell mcx16 notebook o2 rapi_zerow qemu sandybridge soc virtual"

ENOMEM_FEATURES="arm arm_arm6j arm_vfp fpu_abi_sf o2"

IUSE_IMPLICIT="enomem_features_arm enomem_features_arm_arm6j enomem_features_arm_vfp enomem_features_fpu_abi_sf enomem_features_o2"

BOOTSTRAP_USE="${BOOTSTRAP_USE} enomem_features_arm enomem_features_arm_arm6j enomem_features_arm_vfp enomem_features_fpu_abi_sf enomem_features_o2"

PROFILE_ONLY_VARIABLES="${PROFILE_ONLY_VARIABLES} ENOMEM_FEATURES USE_EXPAND_VALUES_ENOMEM_FEATURES"

CHOST="armv6j-softfp-linux-gnueabi"
CHOST_arm="${CHOST}"

ABI="arm"

CC="gcc"
CXX="g++"

CFLAGS_COMMON_PIPE="-pipe"
CFLAGS_COMMON_MARM="-marm"
CFLAGS_COMMON_MTHUBM="-mthumb"
CFLAGS_COMPILER_O1="-O1"
CFLAGS_COMPILER_O2="-O2"
CFLAGS_COMPILER_O3="-O3"
CFLAGS_CPU_ARM_ARM="-march=arm"
CFLAGS_CPU_ARM_ARM6J="-march=armv6j"
CFLAGS_CPU_ARM_RAPI_ZEROW="-mcpu=arm1176jzf-s"
CFLAGS_COMPILER_FPU_ABI_HF="-mfloat-abi=hard"
CFLAGS_COMPILER_FPU_ABI_SF="-mfloat-abi=softfp"
CFLAGS_COMPILER_FPU_VFP="-mfpu=vfp"
CFLAGS_HARDENED_SSP="-fstack-protector-strong --param ssp-buffer-size=4"
CFLAGS_HARDENED_FORTIFY_1="-U_FORTIFY_SOURCE -D_FORTIFY_SOURCE=1"
CFLAGS_HARDENED_FORTIFY_2="-U_FORTIFY_SOURCE -D_FORTIFY_SOURCE=2"
CFLAGS_HARDENED_FORTIFY_3="-U_FORTIFY_SOURCE -D_FORTIFY_SOURCE=3"
CFLAGS_HARDENED_PIE="-fPIE -pie"
CFLAGS_DEBUG_GDB="-ggdb"

CFLAGS_COMPILER_FPU_ABI="${CFLAGS_COMPILER_FPU_ABI_SF}"
CFLAGS_COMPILER_FPU="${CFLAGS_COMPILER_FPU_ABI} ${CFLAGS_COMPILER_FPU_VFP}"
CFLAGS_CPU_ARM="${CFLAGS_CPU_ARM_ARM6J}"
CFLAGS_HARDENED_FORTIFY="${CFLAGS_HARDENED_FORTIFY_3}"

CFLAGS_COMMON="${CFLAGS_COMMON_PIPE} ${CFLAGS_COMMON_MARM}"
CFLAGS_COMPILER="${CFLAGS_COMPILER_O2} ${CFLAGS_COMPILER_FPU}"
CFLAGS_CPU="${CFLAGS_CPU_ARM}"
CFLAGS_HARDENED=""
CFLAGS_DEBUG=""

COMMON_FLAGS="${CFLAGS_COMMON} ${CFLAGS_COMPILER} ${CFLAGS_CPU} ${CFLAGS_HARDENED} ${CFLAGS_DEBUG}"
CFLAGS="${CFLAGS_COMMON} ${CFLAGS_COMPILER} ${CFLAGS_CPU} ${CFLAGS_HARDENED} ${CFLAGS_DEBUG}"
CXXFLAGS="${CFLAGS}"
FCFLAGS="${CFLAGS}"
FFLAGS="${CFLAGS}"

LDFLAGS_COMPILER_O1="-Wl,-O1"
LDFLAGS_COMPILER_O2="-Wl,-O2"
LDFLAGS_COMPILER_O3="-Wl,-O3"
LDFLAGS_COMMON_NEEDED="-Wl,--as-needed"
LDFLAGS_COMMON_RELOCS="-Wl,-z,pack-relative-relocs"
LDFLAGS_SYMBOLS_S="-s"
LDFLAGS_HASHSTYLE_GNU="-Wl,--hash-style=gnu"
LDFLAGS_HARDENED_ZNOW="-Wl,-z,now"
LDFLAGS_HARDENED_ZRELRO="-Wl,-z,relro"
LDFLAGS_HARDENED_ZNOEXECSTACK="-Wl,-z,noexecstack"
LDFLAGS_HARDENED_PIE="-pie"

LDFLAGS_COMPILER="${LDFLAGS_COMPILER_O2}"
LDFLAGS_COMMON="${LDFLAGS_COMMON_NEEDED} ${LDFLAGS_COMMON_RELOCS}"
LDFLAGS_SYMBOLS="${LDFLAGS_SYMBOLS_S}"
LDFLAGS_HASHSTYLE="${LDFLAGS_HASHSTYLE_GNU}"
LDFLAGS_HARDENED=""

LDFLAGS="${LDFLAGS_COMPILER} ${LDFLAGS_COMMON} ${LDFLAGS_SYMBOLS} ${LDFLAGS_HASHSTYLE} ${LDFLAGS_HARDENED}"

# NOTE: This stage was built with the bindist Use flag enabled
PORTDIR="/var/db/repos/gentoo"
PORTDIR_OVERLAY="/var/db/repos/enomem"
DISTDIR="/var/cache/distfiles"
PKGDIR="/var/cache/binpkgs"
PORTAGE_RO_DISTDIRS="/var/cache/distfiles-ro"
PORTAGE_GPG_DIR="/etc/portage/gpg"
PORTAGE_ELOG_SYSTEM="mail:warn,error,log,qa"
PORTAGE_ELOG_MAILURI="portage@localhost mail.sys.nonet:1587"
PORTAGE_USERNAME=portage
PORTAGE_GRPNAME=portage
PORTAGE_WORKDIR_MODE="0770"

GENTOO_MIRRORS="http://127.0.0.1:8080/"
#GENTOO_MIRRORS="http://10.0.2.2:8080/"
#GENTOO_MIRRORS="http://172.17.0.1:8080/"
#GENTOO_MIRRORS="https://ftp.belnet.be/pub/rsync.gentoo.org/gentoo/"
#GENTOO_MIRRORS="https://mirror.yandex.ru/gentoo-distfiles/"

# This sets the language of build output to English.
# Please keep this setting intact when reporting bugs.
LC_MESSAGES=C.utf8

LINGUAS="en ru"
L10N="en ru"

# These are the USE flags that were used in addition to what is provided by the
# profile used for building.
CPU_FLAGS_ARM_ARM6J="v4 v5 v6 edsp thumb vfp"

CPU_FLAGS_ARM="${CPU_FLAGS_ARM_ARM6J}"

USE_CRYPTO="crypt gnutls ssl cracklib"
USE_GENTOO="bindist verify-sig"
USE_LANG="nls unicode icu"
USE_NET="ipv6 hsts http2"
USE_SYSTEM="nptl threads openmp smp acl caps xattr"
USE_TEST=""
USE_XORG="xft fontconfig truetype vaapi vdpau"

USE_PLUS="${USE_CRYPTO} ${USE_GENTOO} ${USE_LANG} ${USE_NET} ${USE_SYSTEM} ${USE_TEST} ${USE_XORG}"
USE_MINUS="-audit -adns -bluetooth -cups -debug -gcj -gles2 -gstreamer -gtk -gtk3 -http3 -introspection -java -kde -nss -openssl -pam -pulseaudio -qt-static -qt3support -qt4 -qt5 -quic -selinux -split-usr -static -static-libs -systemd -su -suid -test"

USE="${USE_PLUS} ${USE_MINUS}"

BOOTSTRAP_USE="${BOOTSTRAP_USE} ada_target_gnat_2021 alsa_cards_hda-intel calligra_features_krita curl_ssl_gnutls grub_platforms_efi-32 grub_platforms_efi-64 grub_platforms_pc guile_single_target_3-0 guile_targets_3-0 llvm_slot_18 lua_single_target_luajit lua_targets_luajit postgres_targets_postgres16 python_targets_python3_12 python_targets_python2_7 python_single_target_python3_12 ruby_targets_ruby32 video_cards_intel"

MAKEOPTS="-j5"

AUTOCLEAN="yes"

EMERGE_DEFAULT_OPTS_BUILDPKG="--buildpkg"
EMERGE_DEFAULT_OPTS_CHANGED="--changed-deps y --changed-slot y --changed-use"
EMERGE_DEFAULT_OPTS_CLEAN="--fail-clean y"
EMERGE_DEFAULT_OPTS_COMPLETE="--complete-graph --with-bdeps y"
EMERGE_DEFAULT_OPTS_VERBOSE="--verbose --verbose-conflicts"

EMERGE_DEFAULT_OPTS_REGULAR="${EMERGE_DEFAULT_OPTS_BUILDPKG} ${EMERGE_DEFAULT_OPTS_COMPLETE} ${EMERGE_DEFAULT_OPTS_VERBOSE}"
EMERGE_DEFAULT_OPTS_REGULAR_CLEAN="${EMERGE_DEFAULT_OPTS_REGULAR} ${EMERGE_DEFAULT_OPTS_CLEAN}"
EMERGE_DEFAULT_OPTS_UPDATE="${EMERGE_DEFAULT_OPTS_REGULAR} ${EMERGE_DEFAULT_OPTS_CHANGED}"

EMERGE_DEFAULT_OPTS="${EMERGE_DEFAULT_OPTS_REGULAR}"

FEATURES_COMMON="parallel-fetch -preserve-libs"

FEATURES_AUTO="-noauto"
FEATURES_NO_AUTO="noauto"
FEATURES_CCACHE="ccache"
FEATURES_NO_CCACHE="-ccache"
FEATURES_CLEAN="-noclean"
FEATURES_NO_CLEAN="noclean"
FEATURES_COLLISION="collision-protect protect-owned"
FEATURES_NO_COLLISION="-collision-protect -protect-owned"
FEATURES_DISTCC="distcc"
FEATURES_NO_DISTCC="-distcc"
FEATURES_SANDBOX="sandbox usersandbox -network-sandbox -pid-sandbox"
FEATURES_NO_SANDBOX="-sandbox -usersandbox -network-sandbox -pid-sandbox"
FEATURES_SELINUX="selinux sfperms -sesandbox"
FEATURES_NO_SELINUX="-selinux -sfperms -sesandbox"
FEATURES_SIGN="sign"
FEATURES_NO_SIGN="-sign"
FEATURES_USERPRIV="userfetch userpriv usersync"
FEATURES_NO_USERPRIV="-userfetch -userpriv -usersync"

FEATURES_REGULAR="${FEATURES_COMMON} ${FEATURES_AUTO} ${FEATURES_COLLISION} ${FEATURES_SANDBOX} ${FEATURES_SELINUX} ${FEATURES_SIGN} ${FEATURES_USERPRIV}"
FEATURES_REGULAR_NOAUTO="${FEATURES_REGULAR} ${FEATURES_NO_AUTO}"
FEATURES_REGULAR_NOCLEAN="${FEATURES_REGULAR} ${FEATURES_NO_CLEAN}"
FEATURES_REGULAR_NOSANDBOX="${FEATURES_REGULAR} ${FEATURES_NO_SANDBOX}"
FEATURES_REGULAR_NOSANDBOX_NOSELINUX="${FEATURES_REGULAR} ${FEATURES_NO_SANDBOX} ${FEATURES_NO_SELINUX}"

FEATURES="${FEATURES_REGULAR}"

#PAX_MARKINGS="XT"

#CCACHE_SIZE="500G"
#CCACHE_DIR="/var/cache/ccache"
#
#CCACHE_PREFIX="distcc"

#DISTCC_BACKOFF_PERIOD=0
#DISTCC_FALLBACK=0
#DISTCC_SAVE_TEMPS=0
#DISTCC_SKIP_LOCAL_RETRY=1
#DISTCC_VERBOSE=0
#
#DISTCC_HOSTS=""

POLICY_TYPES="targeted strict"

PORTAGE_T="portage_t"
PORTAGE_FETCH_T="portage_fetch_t"
PORTAGE_SANDBOX_T="portage_sandbox_t"

GRUB_PLATFORMS="pc"
CONFIG_PROTECT="/etc/default/grub"

ALSA_CARDS="hda-intel"
CAMERAS="ptp2"
INPUT_DEVICES="evdev joystick synaptics wacom"
#SANE_BACKENDS="epson epson2"
VIDEO_CARDS="i965 intel virgl"

ADA_TARGET="gnat_2021"

CALLIGRA_FEATURES="krita"

CURL_QUIC=""
CURL_SSL="gnutls"

FFTOOLS=""

GUILE_TARGETS="3-0"
GUILE_SINGLE_TARGET="3-0"

OFFICE_IMPLEMENTATION="libreoffice"
LIBREOFFICE_EXTENSIONS=""

LLVM_SLOT="18"
LLVM_TARGETS="ARM AArch64 BPF Mips RISCV Sparc Spirv WebAssembly X86"

LUA_SINGLE_TARGET="luajit"

PERL_FEATURES=""

POSTGRES_TARGETS="postgres16"

PYTHON_TARGETS="python3_12 python2_7"
PYTHON_SINGLE_TARGET="python3_12"

QEMU_SOFTMMU_TARGETS="i386 x86_64 arm aarch64 mips mipsel riscv32 riscv64 sparc xtensa xtensaeb"
QEMU_USER_TARGETS="i386 x86_64 arm aarch64 mips mipsel riscv32 riscv64 sparc xtensa xtensaeb"

#QT_SELECT=qt5

ROS_MESSAGES="cxx lisp python"

RUBY_TARGETS="ruby32"


#source /var/lib/layman/make.conf
